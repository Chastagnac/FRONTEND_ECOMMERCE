{"remainingRequest":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\src\\views\\Category.vue?vue&type=style&index=0&id=4d5aa038&lang=css","dependencies":[{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\src\\views\\Category.vue","mtime":1635326405752},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\css-loader\\dist\\cjs.js","mtime":1639996838862},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1639996843866},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\postcss-loader\\src\\index.js","mtime":1639996841367},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639996836905},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639996841946}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY29sdW1ucy5pcy1tdWx0aWxpbmUgew0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0KDQo="},{"version":3,"sources":["C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\src\\views\\Category.vue"],"names":[],"mappings":";AA6EA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3B","file":"C:/Users/leoch/Desktop/Cours/G4/projets/ecommerce_g4/FRONTEND/src/views/Category.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"page-category\">\r\n        <div class=\"columns is-multiline\">\r\n            <div class=\"column is-12\">\r\n                <div class=\"is-size-2 has-text-centered\">  \r\n                    {{ category.name }}\r\n                </div>\r\n                <div class=\"columns is-multiline\">\r\n                    <ProductsBox\r\n                        v-for=\"product in category.products\"\r\n                        v-bind:key=\"product.id\"\r\n                        v-bind:product=\"product\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport { toast } from 'bulma-toast'\r\n// @ = racourcie pour les components\r\nimport ProductsBox from '@/components/ProductsBox'\r\n\r\nexport default {\r\n    name : 'Category',\r\n    data() {\r\n        return {\r\n            category: {\r\n                products: []    \r\n            }\r\n        };\r\n    },\r\n    components: {\r\n        ProductsBox\r\n    },\r\n    watch: {\r\n        $route(to, from) {\r\n            if(to.name === 'Category') {\r\n                this.getCategory()\r\n            }   \r\n        }\r\n    },\r\n    methods : {\r\n        async getCategory() {\r\n            const categorySlug = this.$route.params.category_slug\r\n\r\n            this.$store.commit('setIsLoading', true)\r\n\r\n            axios\r\n                .get(`/api/v1/products/${categorySlug}/`)\r\n                .then(response => {\r\n                    this.category = response.data\r\n\r\n                    document.title = this.category.name + ' | Ilios Shop'\r\n                })\r\n                .catch(error => {\r\n                    console.log(error)\r\n\r\n                    toast({\r\n                        message: `Quelque chose ne s'est pas passé correctement, essayez à nouveau`,\r\n                        type: 'is-danger',\r\n                        dismissible: true,\r\n                        pauseOnHover: true,\r\n                        duration: 2000,\r\n                        position: 'bottom-right',\r\n                    })\r\n                });\r\n                \r\n            this.$store.commit('setIsLoading', false)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.columns.is-multiline {\r\n    justify-content: center;\r\n}\r\n\r\n</style>"]}]}