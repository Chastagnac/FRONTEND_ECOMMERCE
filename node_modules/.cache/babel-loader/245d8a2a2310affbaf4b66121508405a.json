{"remainingRequest":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\src\\router\\index.js","mtime":1639736667308},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\babel.config.js","mtime":1639407464051},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639996836905},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\FRONTEND\\node_modules\\babel-loader\\lib\\index.js","mtime":1639996841436}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7CmltcG9ydCBQcm9kdWN0IGZyb20gJy4uL3ZpZXdzL1Byb2R1Y3QudnVlJzsKaW1wb3J0IENhdGVnb3J5IGZyb20gJy4uL3ZpZXdzL0NhdGVnb3J5LnZ1ZSc7CmltcG9ydCBTZWFyY2ggZnJvbSAnLi4vdmlld3MvU2VhcmNoLnZ1ZSc7CmltcG9ydCBDYXJ0IGZyb20gJy4uL3ZpZXdzL0NhcnQudnVlJzsKaW1wb3J0IFNpZ25VcCBmcm9tICcuLi92aWV3cy9TaWduVXAudnVlJzsKaW1wb3J0IExvZ0luIGZyb20gJy4uL3ZpZXdzL0xvZ0luLnZ1ZSc7CmltcG9ydCBNeUFjY291bnQgZnJvbSAnLi4vdmlld3MvTXlBY2NvdW50LnZ1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnL3NlYXJjaCcsCiAgbmFtZTogJ1NlYXJjaCcsCiAgY29tcG9uZW50OiBTZWFyY2gKfSwgewogIHBhdGg6ICcvbXlhY2NvdW50JywKICBuYW1lOiAnTXlBY2NvdW50JywKICBjb21wb25lbnQ6IE15QWNjb3VudCwKICBtZXRhOiB7CiAgICByZXF1aXJlTG9naW46IHRydWUKICB9Cn0sIHsKICBwYXRoOiAnL2NhcnQnLAogIG5hbWU6ICdDYXJ0JywKICBjb21wb25lbnQ6IENhcnQKfSwgewogIHBhdGg6ICcvc2lnbi11cCcsCiAgbmFtZTogJ1NpZ25VcCcsCiAgY29tcG9uZW50OiBTaWduVXAKfSwgewogIHBhdGg6ICcvbG9nLWluJywKICBuYW1lOiAnTG9nLUluJywKICBjb21wb25lbnQ6IExvZ0luCn0sIHsKICBwYXRoOiAnLzpjYXRlZ29yeV9zbHVnJywKICBuYW1lOiAnQ2F0ZWdvcnknLAogIGNvbXBvbmVudDogQ2F0ZWdvcnkKfSwgewogIHBhdGg6ICcvOmNhdGVnb3J5X3NsdWcvOnByb2R1Y3Rfc2x1ZycsCiAgbmFtZTogJ1Byb2R1Y3QnLAogIGNvbXBvbmVudDogUHJvZHVjdAp9XTsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeShwcm9jZXNzLmVudi5CQVNFX1VSTCksCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVMb2dpbjsKICB9KSAmJiAhc3RvcmUuc3RhdGUuaXNBdXRoZW50aWNhdGVkKSB7CiAgICBuZXh0KHsKICAgICAgbmFtZTogJ0xvZ0luJywKICAgICAgcXVlcnk6IHsKICAgICAgICB0bzogdG8ucGF0aAogICAgICB9CiAgICB9KTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7CmV4cG9ydCBkZWZhdWx0IHJvdXRlcjs="},{"version":3,"sources":["C:/Users/leoch/Desktop/Cours/G4/projets/ecommerce_g4/FRONTEND/src/router/index.js"],"names":["createRouter","createWebHistory","Home","Product","Category","Search","Cart","SignUp","LogIn","MyAccount","store","routes","path","name","component","meta","requireLogin","router","history","process","env","BASE_URL","beforeEach","to","from","next","matched","some","record","state","isAuthenticated","query"],"mappings":";AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,IAAMC,MAAM,GAAG,CACX;AACIC,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAEZ;AAHf,CADW,EAMX;AACIU,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAGT;AAHhB,CANW,EAWX;AACIO,EAAAA,IAAI,EAAE,YADV;AAEIC,EAAAA,IAAI,EAAE,WAFV;AAGIC,EAAAA,SAAS,EAAGL,SAHhB;AAIIM,EAAAA,IAAI,EAAG;AACHC,IAAAA,YAAY,EAAE;AADX;AAJX,CAXW,EAmBX;AACIJ,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAGR;AAHhB,CAnBW,EAwBX;AACIM,EAAAA,IAAI,EAAE,UADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAGP;AAHhB,CAxBW,EA6BX;AACIK,EAAAA,IAAI,EAAE,SADV;AAEIC,EAAAA,IAAI,EAAE,QAFV;AAGIC,EAAAA,SAAS,EAAGN;AAHhB,CA7BW,EAkCX;AACII,EAAAA,IAAI,EAAE,iBADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,SAAS,EAAEV;AAHf,CAlCW,EAuCX;AACIQ,EAAAA,IAAI,EAAE,+BADV;AAEIC,EAAAA,IAAI,EAAE,SAFV;AAGIC,EAAAA,SAAS,EAAGX;AAHhB,CAvCW,CAAf;AA8CA,IAAMc,MAAM,GAAGjB,YAAY,CAAC;AACxBkB,EAAAA,OAAO,EAAEjB,gBAAgB,CAACkB,OAAO,CAACC,GAAR,CAAYC,QAAb,CADD;AAExBV,EAAAA,MAAM,EAANA;AAFwB,CAAD,CAA3B;AAKAM,MAAM,CAACK,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAGF,EAAE,CAACG,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACb,IAAP,CAAYC,YAAhB;AAAA,GAAtB,KAAuD,CAACN,KAAK,CAACmB,KAAN,CAAYC,eAAvE,EAAwF;AACpFL,IAAAA,IAAI,CAAC;AAACZ,MAAAA,IAAI,EAAE,OAAP;AAAgBkB,MAAAA,KAAK,EAAE;AAAER,QAAAA,EAAE,EAAEA,EAAE,CAACX;AAAT;AAAvB,KAAD,CAAJ;AACH,GAFD,MAEO;AACHa,IAAAA,IAAI;AACP;AACJ,CAND;AAQA,eAAeR,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Product from '../views/Product.vue'\r\nimport Category from '../views/Category.vue'\r\nimport Search from '../views/Search.vue'\r\nimport Cart from '../views/Cart.vue'\r\nimport SignUp from '../views/SignUp.vue'\r\nimport LogIn from '../views/LogIn.vue'\r\nimport MyAccount from '../views/MyAccount.vue'\r\nimport store from '../store'\r\n\r\nconst routes = [\r\n    {\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Home\r\n    },\r\n    {\r\n        path: '/search',\r\n        name: 'Search',\r\n        component : Search\r\n    },\r\n    {\r\n        path: '/myaccount',\r\n        name: 'MyAccount',\r\n        component : MyAccount,\r\n        meta : {\r\n            requireLogin: true\r\n        }\r\n    },\r\n    {\r\n        path: '/cart',\r\n        name: 'Cart',\r\n        component : Cart\r\n    },\r\n    {    \r\n        path: '/sign-up',\r\n        name: 'SignUp',\r\n        component : SignUp\r\n    },\r\n    {    \r\n        path: '/log-in',\r\n        name: 'Log-In',\r\n        component : LogIn\r\n    },\r\n    {\r\n        path: '/:category_slug',\r\n        name: 'Category',\r\n        component: Category\r\n    },\r\n    {\r\n        path: '/:category_slug/:product_slug',\r\n        name: 'Product',\r\n        component : Product\r\n    }\r\n]\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if(to.matched.some(record => record.meta.requireLogin) && !store.state.isAuthenticated) {\r\n        next({name: 'LogIn', query: { to: to.path}})        \r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router\r\n"]}]}