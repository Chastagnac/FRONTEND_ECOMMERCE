{"remainingRequest":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\src\\views\\BoxCountry.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\src\\views\\BoxCountry.vue","mtime":1635326405750},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\babel.config.js","mtime":1639407464051},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639407449155},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\babel-loader\\lib\\index.js","mtime":1639407451825},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1639407449155},{"path":"C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1639407452380}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcbGVvY2hcXERlc2t0b3BcXENvdXJzXFxHNFxccHJvamV0c1xcZWNvbW1lcmNlX2c0XFxlY29tbWVyY2VcXGVjb21tZXJjZV9mcm9udFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gImJ1bG1hLXRvYXN0IjsKaW1wb3J0IFByb2R1Y3RzQ291bnRyeSBmcm9tICJAL2NvbXBvbmVudHMvUHJvZHVjdHNDb3VudHJ5IjsKaW1wb3J0IExpc3RDb3VudHJpZXMgZnJvbSAiQC9jb21wb25lbnRzL0xpc3RDb3VudHJpZXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkJveENvdW50cnkiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBuZWVkZWRQcm9kdWN0czogW10sCiAgICAgIGNvdW50cmllczoge30sCiAgICAgIHBheXM6IHt9LAogICAgICBzZWxlY3RlZDogIiIsCiAgICAgIGNvZGVQYXlzOiAiIiwKICAgICAgcXVhbnRpdHk6IDEsCiAgICAgIHJlZHVjOiAwCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgUHJvZHVjdHNDb3VudHJ5OiBQcm9kdWN0c0NvdW50cnksCiAgICBMaXN0Q291bnRyaWVzOiBMaXN0Q291bnRyaWVzCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDb3VudHJpZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEltZ1VybDogZnVuY3Rpb24gZ2V0SW1nVXJsKGNvZGVQYXlzKSB7CiAgICAgIHJldHVybiAnLi4vYXNzZXRzL2ZsYWdzLzR4My8nICsgY29kZVBheXMgKyAnLnN2Zyc7CiAgICB9LAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoaXNOYU4odGhpcy5xdWFudGl0eSkgfHwgdGhpcy5xdWFudGl0eSA8IDEpIHsKICAgICAgICB0aGlzLnF1YW50aXR5ID0gMTsKICAgICAgfQoKICAgICAgdGhpcy5uZWVkZWRQcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgICBwcm9kdWN0OiBlbGVtZW50LAogICAgICAgICAgcXVhbnRpdHk6IF90aGlzLnF1YW50aXR5CiAgICAgICAgfTsgLy8gQ29tbXV0ID09IE11dGF0aW9uIGRhbnMgbGUgc3RvcmUgKGFmaW4gZCdhY3R1YWxpc2VyIGxlIHN0YXRlKQoKICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJhZGRUb0NhcnQiLCBpdGVtKTsKICAgICAgfSk7CiAgICAgIHRvYXN0KHsKICAgICAgICBtZXNzYWdlOiAiTGUgcHJvZHVpdCDDoCBiaWVuIMOpdMOpIGFqb3V0w6kgYXUgcGFuaWVyIiwKICAgICAgICB0eXBlOiAiaXMtc3VjY2VzcyIsCiAgICAgICAgZGlzbWlzc2libGU6IHRydWUsCiAgICAgICAgcGF1c2VPbkhvdmVyOiB0cnVlLAogICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgIHBvc2l0aW9uOiAiYm90dG9tLXJpZ2h0IgogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVQcm9kdWN0OiBmdW5jdGlvbiByZW1vdmVQcm9kdWN0KHByb2R1Y3QpIHsKICAgICAgdGhpcy5uZWVkZWRQcm9kdWN0cyA9IHRoaXMubmVlZGVkUHJvZHVjdHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7CiAgICAgICAgcmV0dXJuIGkuaWQgIT09IHByb2R1Y3QuaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIHRvdGFsUHJpY2U6IGZ1bmN0aW9uIHRvdGFsUHJpY2UocmVkdWN0aW9uKSB7CiAgICAgIHZhciB0b3RhbCA9IDA7CiAgICAgIHZhciBpID0gMDsKICAgICAgdGhpcy5uZWVkZWRQcm9kdWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9kdWN0KSB7CiAgICAgICAgdG90YWwgKz0gcGFyc2VJbnQocHJvZHVjdC5wcmljZSk7CiAgICAgICAgaSArPSAxLjI7CiAgICAgIH0pOwoKICAgICAgaWYgKHJlZHVjdGlvbiA9PSAwKSB7CiAgICAgICAgcmV0dXJuIHRvdGFsOwogICAgICB9IGVsc2UgaWYgKHRoaXMubmVlZGVkUHJvZHVjdHMubGVuZ3RoID4gMikgewogICAgICAgIHRoaXMucmVkdWMgPSBpLnRvRml4ZWQoMik7CiAgICAgICAgcmV0dXJuIHRvdGFsIC0gKHRvdGFsICogaSAvIDEwMCkudG9GaXhlZCgyKTsKICAgICAgfQogICAgfSwKICAgIGdldE5lZWRlZFByb2R1Y3RzOiBmdW5jdGlvbiBnZXROZWVkZWRQcm9kdWN0cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgcmlzcXVlID0gdGhpcy5wYXlzLnJpc3F1ZTsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL3YxL25lZWRlZC1wcm9kdWN0cy8iLmNvbmNhdChyaXNxdWUpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5uZWVkZWRQcm9kdWN0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgY3VycmVudERhdGVUaW1lOiBmdW5jdGlvbiBjdXJyZW50RGF0ZVRpbWUoKSB7CiAgICAgIHZhciBjdXJyZW50ID0gbmV3IERhdGUoKTsKICAgICAgdmFyIGRhdGUgPSBjdXJyZW50LmdldEZ1bGxZZWFyKCkgKyAiLSIgKyAoY3VycmVudC5nZXRNb250aCgpICsgMSkgKyAiLSIgKyBjdXJyZW50LmdldERhdGUoKTsKICAgICAgdmFyIHRpbWUgPSBjdXJyZW50LmdldEhvdXJzKCk7CiAgICAgIHZhciBkYXRlVGltZSA9IGRhdGUgKyAiICIgKyB0aW1lOwogICAgICByZXR1cm4gZGF0ZVRpbWU7CiAgICB9LAogICAgZ2V0UGF5czogZnVuY3Rpb24gZ2V0UGF5cyhjb2RlU2x1ZykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiL2FwaS92MS9ib3gtY291bnRyeS8iLmNvbmNhdChjb2RlU2x1ZywgIi8iKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMucGF5cyA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgIF90aGlzMy5nZXROZWVkZWRQcm9kdWN0cygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgdG9hc3QoewogICAgICAgICAgbWVzc2FnZTogIlF1ZWxxdWUgY2hvc2UgbmUgcydlc3QgcGFzIHBhc3NceEU5IGNvcnJlY3RlbWVudCwgZXNzYXlleiBceEUwIG5vdXZlYXUiLAogICAgICAgICAgdHlwZTogImlzLWRhbmdlciIsCiAgICAgICAgICBkaXNtaXNzaWJsZTogdHJ1ZSwKICAgICAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgcG9zaXRpb246ICJib3R0b20tcmlnaHQiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldGNvZGVQYXlzOiBmdW5jdGlvbiBnZXRjb2RlUGF5cyhjb2RlKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBjb2RlOwogICAgICB0aGlzLmdldFBheXMoY29kZSk7CiAgICAgIHRoaXMuY29kZVBheXMgPSBjb2RlLnRvTG93ZXJDYXNlKCk7CiAgICB9LAogICAgZ2V0Q291bnRyaWVzOiBmdW5jdGlvbiBnZXRDb3VudHJpZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczQuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvYXBpL3YxL2JveC1jb3VudHJ5LyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5jb3VudHJpZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9ICJCb3ggUGF5cyB8IElsaW9zIFNob3AiOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpczQuJHN0b3JlLmNvbW1pdCgic2V0SXNMb2FkaW5nIiwgZmFsc2UpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\leoch\\Desktop\\Cours\\G4\\projets\\ecommerce_g4\\ecommerce\\ecommerce_front\\src\\views\\BoxCountry.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"page-box-country\">\r\n        <div class=\"select\">\r\n            <select class=\"select is-multiple\" v-model=\"selected\" @change=\"getcodePays(selected)\">\r\n                <option disabled value=\"\">Choisissez le pays</option>\r\n                <option :value=\"country.alpha2\" v-for=\"country in countries\" v-bind:key=\"country.code\">\r\n                {{ country.nom }}\r\n                </option>\r\n            </select>\r\n        </div>\r\n        <br>\r\n        <ListCountries \r\n            v-bind:countries=\"countries\"\r\n            v-on:getcodePays=\"getcodePays\"\r\n            />\r\n        <br>\r\n        <div class=\"columns\" v-if=\"selected !== ''\">\r\n            <div class=\"column\">\r\n                <div class=\"card mt-4\">\r\n                    <div class=\"card-content\">\r\n                        <div class=\"media\">\r\n                            <div class=\"card-image has-text-centered\">\r\n                                <figure class=\"image is-128x128\">\r\n                                <img :src=\"require(`../assets/flags/4x3/${codePays}.svg`)\" />\r\n                                </figure>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"content\">\r\n                            <table class=\"table is-fullwidth\">\r\n                                <thead>\r\n                                <tr>\r\n                                    <th>Nom</th>\r\n                                    <th>Code Alpha2</th>\r\n                                    <th>Code</th>\r\n                                    <th>Risque Global</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tr>\r\n                                <td>{{ pays.nom }}/{{ pays.nom_en_gb }}</td>\r\n                                <td>{{ pays.alpha2 }}</td>\r\n                                <td>{{ pays.code }}</td>\r\n                                <td>{{ pays.risque }}</td>\r\n                                </tr>\r\n                            </table>\r\n                            <br />\r\n                            <hr />\r\n                            <p>{{ currentDateTime() }}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-if=\"neededProducts.length >= 1\" class=\"title has-text-centered\">Notre sélection pour votre voyage</div>\r\n            <div class=\"columns is-multiline\">\r\n                <div class=\"card-image\">\r\n                    <ProductsCountry\r\n                        v-for=\"product in neededProducts\"\r\n                        v-bind:key=\"product.id\"\r\n                        v-bind:product=\"product\"\r\n                        v-on:removeProduct=\"removeProduct\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        <div class=\"columnn\" v-if=\"selected !== ''\">\r\n            <div class=\"card\">\r\n                <div class=\"card-content has-text-centered\">\r\n                    <div class=\"title has-text-centered\">\r\n                        Panier total :\r\n                    </div>\r\n                    <div class=\"title has-text-centered\" v-if=\"neededProducts.length > 2\">\r\n                        <h3> <i>{{ totalPrice(0)}}</i><i>€</i></h3><br>\r\n                        <p>Vous obtenez {{ reduc }} % de réduction !</p><br>\r\n                        soit {{ totalPrice(1)}}€\r\n                    </div>\r\n                    <div class=\"title has-text-centered\" v-else>\r\n                        <p>{{ totalPrice(0)}} €</p>\r\n                        <hr>\r\n                    </div>\r\n                    <a v-if=\"neededProducts.length >= 1\" class=\"button is-dark\" @click=\"addToCart\">Ajouter au panier</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { toast } from \"bulma-toast\";\r\nimport ProductsCountry from \"@/components/ProductsCountry\";\r\nimport ListCountries from \"@/components/ListCountries\";\r\n\r\nexport default {\r\n  name: \"BoxCountry\",\r\n\r\n  data() {\r\n    return {\r\n        neededProducts: [],\r\n        countries: {},\r\n        pays: {},\r\n        selected: \"\",\r\n        codePays: \"\",\r\n        quantity: 1,\r\n        reduc: 0\r\n        };\r\n    },\r\n    components: {\r\n        ProductsCountry,\r\n        ListCountries\r\n    },\r\n    mounted() {\r\n        this.getCountries();\r\n    },\r\n    methods: {\r\n\r\n        getImgUrl(codePays) {\r\n            return ('../assets/flags/4x3/' + codePays + '.svg')\r\n        },\r\n        addToCart() {\r\n            if (isNaN(this.quantity) || this.quantity < 1) {\r\n                this.quantity = 1;\r\n            }\r\n            this.neededProducts.forEach(element => {\r\n                const item = {\r\n                    product : element,\r\n                    quantity : this.quantity\r\n                }\r\n                // Commut == Mutation dans le store (afin d'actualiser le state)\r\n                 this.$store.commit(\"addToCart\", item);\r\n            });\r\n       \r\n            toast({\r\n                message: \"Le produit à bien été ajouté au panier\",\r\n                type: \"is-success\",\r\n                dismissible: true,\r\n                pauseOnHover: true,\r\n                duration: 2000,\r\n                position: \"bottom-right\",\r\n            });\r\n        },\r\n        removeProduct(product) {\r\n            this.neededProducts = this.neededProducts.filter(i => i.id !== product.id)\r\n        },\r\n        totalPrice(reduction) {\r\n            let total = 0\r\n            let i = 0\r\n            this.neededProducts.forEach(product => {\r\n                total += parseInt(product.price)\r\n                i += 1.2\r\n            });\r\n            if(reduction == 0) {\r\n                return total\r\n            } else if(this.neededProducts.length > 2) {\r\n                this.reduc = i.toFixed(2)\r\n                return (total - ((total * i) / 100).toFixed(2))\r\n            }\r\n            \r\n        },\r\n        getNeededProducts() {\r\n            const risque = this.pays.risque;\r\n            axios\r\n            .get(`/api/v1/needed-products/${risque}`)\r\n            .then((response) => {\r\n            this.neededProducts = response.data;\r\n            })\r\n            .catch((error) => {\r\n            console.log(error);\r\n            });\r\n        },\r\n        currentDateTime() {\r\n            const current = new Date();\r\n            const date =\r\n                current.getFullYear() +\r\n                \"-\" +\r\n                (current.getMonth() + 1) +\r\n                \"-\" +\r\n                current.getDate();\r\n            const time = current.getHours();\r\n            const dateTime = date + \" \" + time;\r\n\r\n            return dateTime;\r\n        },\r\n        getPays(codeSlug) {\r\n        axios\r\n            .get(`/api/v1/box-country/${codeSlug}/`)\r\n            .then((response) => {\r\n            this.pays = response.data\r\n            this.getNeededProducts()\r\n            })\r\n            .catch((error) => {\r\n            console.log(error);\r\n\r\n            toast({\r\n                message: `Quelque chose ne s'est pas passé correctement, essayez à nouveau`,\r\n                type: \"is-danger\",\r\n                dismissible: true,\r\n                pauseOnHover: true,\r\n                duration: 2000,\r\n                position: \"bottom-right\",\r\n            });\r\n            });\r\n        },\r\n        getcodePays(code) {\r\n        this.selected = code\r\n        this.getPays(code);\r\n        this.codePays = code.toLowerCase();\r\n        },\r\n        async getCountries() {\r\n        this.$store.commit(\"setIsLoading\", true);\r\n\r\n        await axios\r\n            .get(`/api/v1/box-country/`)\r\n            .then((response) => {\r\n            this.countries = response.data;\r\n\r\n            document.title = \"Box Pays | Ilios Shop\";\r\n            })\r\n            .catch((error) => {\r\n            console.log(error);\r\n            });\r\n        this.$store.commit(\"setIsLoading\", false);\r\n        },\r\n    },\r\n}\r\n\r\n</script>\r\n<style>\r\n     .card-image {\r\n        display: contents;\r\n    }\r\n</style>\r\n\r\n"],"sourceRoot":""}]}